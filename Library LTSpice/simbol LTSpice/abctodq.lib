.subckt abctodq a b c theta D Q
B1 alpha 0 V=(2/3)*V(a)-(1/3)*V(b)-(1/3)*V(c)
B2 beta 0 V=(sqrt(3)/3)*V(b)-(sqrt(3)/3)*V(c)
B3 D 0 V=cos(V(theta))*V(alpha)+sin(V(theta))*V(beta)
B4 Q 0 V=cos(V(theta))*V(beta)-sin(V(theta))*V(alpha)
.ends abctodq